{"version":3,"sources":["components/Search.js","components/Button.js","components/NewPerson.js","components/Notification.js","components/Person.js","services/notes.js","App.js","index.js"],"names":["Search","value","handleFilterChange","onChange","Button","type","text","handle","onClick","undefined","NewPerson","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","Notification","message","style","event","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Person","name","number","id","del","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","apiService","createMessage","setTimeout","personsToShow","filter","person","toLowerCase","includes","target","preventDefault","updatePersonExist","find","window","confirm","nameObject","map","catch","error","trim","concat","idPerson","namePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.223daf37.chunk.js","sourcesContent":["import React from 'react';\n\nconst Search = ({value, handleFilterChange}) => {\n\n  return (\n  <>\n      <form>\n        <div>\n          filter with: <input value={value} onChange={handleFilterChange}/>\n        </div>\n      </form>\n  </>\n  ) \n}\n\nexport default Search;\n","import React from \"react\";\n\nconst Button = ({type, text, handle}) => {\n  return (\n    <>\n      <button type={type} onClick={typeof handle === \"function\" ? handle : undefined} >{text}</button>\n    </>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport Button from './Button'\n\nconst NewPerson = ({addName, newName, newNumber, handleNameChange, handleNumberChange}) => {\n\n  return (\n  <>\n      <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <Button type=\"submit\" text=\"add\"/>\n        </div>\n      </form>\n  </>\n\n  )\n  \n}\n\n\nexport default NewPerson;\n","import React from \"react\";\n\n\n\nconst Notification = ({ message }) => {\n\n  const errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  }\n\n  const normalStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={message.event === 'error' ? errorStyle : normalStyle}>\n      {message.message}\n    </div>\n  )\n}\nexport default Notification;\n","import React from 'react';\nimport Button from './Button'\n\nconst Person = ({name, number, id, del}) => <tr><td>{name}</td><td>{number}</td><td><Button key={id} type=\"button\" text=\"delete\" handle={del}/></td></tr>\n\nexport default Person;\n","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/persons'\r\n\r\n/* const getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n} */\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response)\r\n  }\r\n\r\nconst deleteIt = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response)\r\n  }\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  deleteIt: deleteIt, \r\n}\r\n\r\n//export default { getAll, create, update }","import React, { useState, useEffect } from \"react\";\nimport Search from \"./components/Search\";\nimport NewPerson from \"./components/NewPerson\";\nimport Notification from \"./components/Notification\";\nimport Person from \"./components/Person\";\nimport apiService from \"./services/notes\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  const hook = () => {\n    apiService.getAll().then((persons) => {\n      setPersons(persons);\n    });\n    // 13.10.2020\n    /*     axios\n      .get('http://localhost:3001/persons')\n      .then(response => {\n        setPersons(response.data)\n      })\n */\n  };\n\n  useEffect(hook, []);\n\n  const addName = (event) => {\n    event.preventDefault();\n    const updatePersonExist = persons.find((person) => person.name === newName);\n    if (updatePersonExist) {\n      if (\n        window.confirm(\n          `${updatePersonExist.name} is already added to phonebook, replace the old number with new one?`\n        )\n      ) {\n        const nameObject = {\n          ...updatePersonExist,\n          number: newNumber,\n        };\n        apiService\n          .update(nameObject.id, nameObject)\n          .then((response) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== updatePersonExist.id ? person : response.data\n              )\n            );\n          })\n          .catch((error) => {\n            createMessage(\n              {\n                event: 'error',\n                message: `Information of ${updatePersonExist.name} has been removed from server`,\n              });\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setPersons(\n              persons.filter((person) => {\n                return !(person.id === updatePersonExist.id);\n              })\n            );\n          });\n      }\n    } else {\n      const nameObject = {\n        name: newName.trim(),\n        number: newNumber,\n      };\n      apiService\n        .create(nameObject)\n        .then((person) => {\n          setPersons(persons.concat(person));\n          createMessage(\n            {\n              event: 'added',\n              message: `Added ${person.name}`\n            });\n        });\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n  };\n\n  const createMessage = (message) => {\n    setMessage(message);\n    setTimeout(() => {\n      setMessage(null)\n    }, 2500)  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  const handleDeletePerson = (idPerson, namePerson) => {\n    if (window.confirm(`Do you really want to delete ${namePerson}?`)) {\n      apiService\n        .deleteIt(idPerson)\n        .then((response) => {\n            setPersons(\n              persons.filter((person) => {\n                return !(person.id === idPerson);\n              })\n            );\n            createMessage(\n              {\n                event: 'deleted',\n                message: `The person's '${namePerson}' was deleted from server`,\n              });\n        })\n        .catch((error) => {\n          createMessage(\n            {\n              event: 'error',\n              message: `The person's '${namePerson}' has already been deleted from server`,\n            });\n          setPersons(\n            persons.filter((person) => {\n              return !(person.id === idPerson);\n            })\n          );\n        });\n    }\n  };\n\n  const personsToShow =\n    newFilter === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(newFilter)\n        );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Search value={newFilter} handleFilterChange={handleFilterChange} />\n      <h2>Add a new person</h2>\n      <NewPerson\n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <table>\n        <tbody>\n          {personsToShow.map((person) => (\n            <Person\n              key={person.id}\n              name={person.name}\n              id={person.id}\n              del={() => {\n                handleDeletePerson(person.id, person.name);\n              }}\n              number={person.number}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}