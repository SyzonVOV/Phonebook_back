{"version":3,"sources":["components/Search.js","components/Button.js","components/NewPerson.js","components/Notification.js","components/Person.js","services/notes.js","App.js","index.js"],"names":["Search","value","handleFilterChange","onChange","Button","type","text","handle","onClick","undefined","NewPerson","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","Notification","message","style","event","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Person","name","number","id","del","ind","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","apiService","createMessage","setTimeout","personsToShow","filter","person","toLowerCase","includes","target","preventDefault","updatePersonExist","find","window","confirm","nameObject","status","map","catch","error","trim","concat","idPerson","namePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2ddc7e11.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Search = ({value, handleFilterChange}) => {\r\n\r\n  return (\r\n  <>\r\n      <form>\r\n        <div>\r\n          filter with: <input value={value} onChange={handleFilterChange}/>\r\n        </div>\r\n      </form>\r\n  </>\r\n  ) \r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nconst Button = ({type, text, handle}) => {\r\n  return (\r\n    <>\r\n      <button type={type} onClick={typeof handle === \"function\" ? handle : undefined} >{text}</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Button from './Button'\r\n\r\nconst NewPerson = ({addName, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n\r\n  return (\r\n  <>\r\n      <form onSubmit={addName}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange}/>\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <Button type=\"submit\" text=\"add\"/>\r\n        </div>\r\n      </form>\r\n  </>\r\n\r\n  )\r\n  \r\n}\r\n\r\n\r\nexport default NewPerson;\r\n","import React from \"react\";\r\n\r\n\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n  const errorStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  const normalStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={message.event === 'error' ? errorStyle : normalStyle}>\r\n      {message.message}\r\n    </div>\r\n  )\r\n}\r\nexport default Notification;\r\n","import React from 'react';\r\nimport Button from './Button'\r\n\r\nconst Person = ({name, number, id, del, ind}) => <tr><td>{ind}</td><td>{name}</td><td>{number}</td><td><Button key={id} type=\"button\" text=\"delete\" handle={del}/></td></tr>\r\n\r\nexport default Person;\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n/* const getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n} */\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response)\r\n  }\r\n\r\nconst deleteIt = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response)\r\n  }\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  deleteIt: deleteIt, \r\n}\r\n\r\n//export default { getAll, create, update }","import React, { useState, useEffect } from 'react';\r\nimport Search from './components/Search';\r\nimport NewPerson from './components/NewPerson';\r\nimport Notification from './components/Notification';\r\nimport Person from './components/Person';\r\nimport apiService from './services/notes';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [newFilter, setNewFilter] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const hook = () => {\r\n    apiService.getAll().then((persons) => {\r\n      setPersons(persons);\r\n    });\r\n    // 13.10.2020\r\n    /*     axios\r\n      .get('http://localhost:3001/persons')\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n */\r\n  };\r\n\r\n  useEffect(hook, []);\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault();\r\n    const updatePersonExist = persons.find((person) => person.name === newName);\r\n    if (updatePersonExist) {\r\n      if (\r\n        window.confirm(\r\n          `${updatePersonExist.name} is already added to phonebook, replace the old number with new one?`,\r\n        )\r\n      ) {\r\n        const nameObject = {\r\n          ...updatePersonExist,\r\n          number: newNumber,\r\n        };\r\n        apiService\r\n          .update(nameObject.id, nameObject)\r\n          .then((response) => {\r\n            if (response.status === 204) {\r\n              createMessage({\r\n                event: 'error',\r\n                message: `Information of ${updatePersonExist.name} has been removed from server`,\r\n              });\r\n              setNewName('');\r\n              setNewNumber('');\r\n              setPersons(\r\n                persons.filter((person) => {\r\n                  return !(person.id === updatePersonExist.id);\r\n                }),\r\n              );\r\n            } else {\r\n              setPersons(\r\n                persons.map((person) =>\r\n                  person.id !== updatePersonExist.id ? person : response.data,\r\n                ),\r\n              );\r\n              setNewName('');\r\n              setNewNumber('');\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            if (error.response.status === 400) {\r\n              createMessage({\r\n                event: 'error',\r\n                message: `${error.response.data.error}`,\r\n              });\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      const nameObject = {\r\n        name: newName.trim(),\r\n        number: newNumber,\r\n      };\r\n      apiService\r\n        .create(nameObject)\r\n        .then((person) => {\r\n          setPersons(persons.concat(person));\r\n          createMessage({\r\n            event: 'added',\r\n            message: `Added ${person.name}`,\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          createMessage({\r\n            event: 'error',\r\n            message: `${error.response.data.error}`,\r\n          });\r\n        });\r\n      setNewName('');\r\n      setNewNumber('');\r\n    }\r\n  };\r\n\r\n  const createMessage = (message) => {\r\n    setMessage(message);\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 5500);\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value);\r\n  };\r\n\r\n  const handleDeletePerson = (idPerson, namePerson) => {\r\n    if (window.confirm(`Do you really want to delete ${namePerson}?`)) {\r\n      apiService\r\n        .deleteIt(idPerson)\r\n        .then((response) => {\r\n          setPersons(\r\n            persons.filter((person) => {\r\n              return !(person.id === idPerson);\r\n            }),\r\n          );\r\n          createMessage({\r\n            event: 'deleted',\r\n            message: `The person's '${namePerson}' was deleted from server`,\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          createMessage({\r\n            event: 'error',\r\n            message: `The person's '${namePerson}' has already been deleted from server`,\r\n          });\r\n          setPersons(\r\n            persons.filter((person) => {\r\n              return !(person.id === idPerson);\r\n            }),\r\n          );\r\n        });\r\n    }\r\n  };\r\n\r\n  const personsToShow =\r\n    newFilter === ''\r\n      ? persons\r\n      : persons.filter((person) =>\r\n          person.name.toLowerCase().includes(newFilter),\r\n        );\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Search value={newFilter} handleFilterChange={handleFilterChange} />\r\n      <h2>Add a new person</h2>\r\n      <NewPerson\r\n        addName={addName}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <table>\r\n        <tbody>\r\n          {personsToShow.map((person, ind) => (\r\n            <Person\r\n              key={person.id}\r\n              ind={ind + 1}\r\n              name={person.name}\r\n              id={person.id}\r\n              del={() => {\r\n                handleDeletePerson(person.id, person.name);\r\n              }}\r\n              number={person.number}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}